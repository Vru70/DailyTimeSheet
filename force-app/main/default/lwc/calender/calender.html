<!--
@author            : Vrushabh Uprikar
@last modified on  : 12-10-2021
@last modified by  : Vrushabh Uprikar
Modifications Log
Ver   Date         Author             Modification
1.0   11-10-2021   Vrushabh Uprikar   Initial Version
-->
<template>
<!-- *************The below div is for the background and padding************ -->
<div class="ml-calendar-demo">
	<lightning-card>
		<!-- *************Calendar Month and Today Head Start Here************* -->
		<section class="calendar-header slds-p-left_x-small">
			<h2 class="slds-p-left_x-large"><strong>{CURRUNET_MONTH_NAME}</strong> {currentYear}</h2>
			<div class="calendar-nav">
				<div class="slds-grid slds-gutters slds-grid_align-center ">
					<div class="slds-col">
						<lightning-button-icon icon-name="utility:chevronleft"
							alternative-text="Pre"
							title="Previous"
							onclick={handleClickPrevious}>
						</lightning-button-icon>
					</div>
					<div class="CalendarHeading">
						Today
					</div>
					<div class="slds-col">
						<lightning-button-icon icon-name="utility:chevronright"
							alternative-text="Next"
							title="Next"
							onclick={handleClickNext}>
						</lightning-button-icon>
					</div>
				</div>
			</div> &nbsp; &nbsp;
		</section>
		<!-- *************Calendar Month and Today Head End Here************** -->
		<div class="calendar-day day-name">
			<div class="slds-grid slds-wrap ">

				<div class="slds-col slds-size_7-of-8">
					<!-- *************The below code is for Calenday Days Mon,Tue, Web*****Start Here********* -->

					<div class="calendar-row ">
						<template for:each={WEEK_DAYS_LIST}
							for:item="day">
							<div key={day}
								class="calendar-day day-name">
								<span class="Weekname">{day}</span>
							</div>
						</template>
					</div>
					<!-- *************The below code is for Calenday Days Mon,Tue, Web*****End Here********* -->


					<div class="each-month-grid slds-grid ">
						<template for:each={dispMonthDates}
							for:item="date">
							<div key={date}
								id={date.date}
								onclick={onClickOfDate}>

								<div class="calendar-day">
									<span class="calendar-date">{date.day}</span><br />
									<template if:true={date.Daily_Log_Hr}>
										<div>
											<br /><span
												class="calendar-event">{date.Daily_Log_Hr}:{date.Daily_Log_Min}</span>
										</div>
									</template>
								</div>

							</div>
						</template>
						<!-- modal start -->
						<template if:true={showModal}>
							<section class="slds-modal slds-fade-in-open">
								<div class="slds-modal__container">
									<header class="slds-modal__header">
										<button
											class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
											title="Close"
											onclick={closeModal}>
											<lightning-icon icon-name="utility:close"
												alternative-text="close"
												class="blackColor"
												size="small"></lightning-icon>
										</button>
										<h2 class="slds-text-heading_medium slds-hyphenate">Daily Log Record Detail
										</h2>
									</header>

									<div class="slds-modal__content slds-p-around_medium">
										<lightning-datatable key-field="Id"
											data={allData}
											columns={columns}
											hide-checkbox-column
											draft-values={draftValues}
											onsave={handleSave}
											onrowaction={callRowAction}>
										</lightning-datatable>
									</div>
									<footer class="slds-modal__footer">
										<lightning-button variant="brand"
											label="Close"
											title="Close"
											onclick={closeModal}></lightning-button>
									</footer>
								</div>
							</section>

						</template>
						<!-- modal end -->

					</div>
				</div>

				<div class="slds-col slds-size_1-of-8 slds-grid_vertical">

					<div class="slds-grid slds-text-align_center slds-p-top_medium">

						<div class="slds-p-bottom_small">
							<div>
								<div>
									<span class="Weekname">Total Hours</span>
								</div>
							</div>
							<div>
								<template for:each={totalHours}
									for:item="con">
									<div key={con}>
										<div class="calendar-day ">
											<div class="slds-tile">
												<span class="calendar-date">{con}</span>
											</div>
										</div>
									</div>
								</template>

							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
	</lightning-card>
</div>
</template>
