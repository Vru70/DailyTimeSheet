<!--
  @author            : Vrushabh Uprikar
  @last modified on  : 07-10-2021
  @last modified by  : Vrushabh Uprikar
  Modifications Log
  Ver   Date         Author             Modification
  1.0   21-09-2021   Vrushabh Uprikar   Initial Version
-->
<template>
	<lightning-card>
		<div class="slds-grid slds-grid_vertical">
			<div class="slds-col">
				<div class="slds-grid slds-gutters slds-grid_align-center">
					<div class="slds-col">
						<lightning-button-icon icon-name="utility:chevronleft"
							alternative-text="Pre"
							title="Previous"
							onclick={handleClickPrevious}>
						</lightning-button-icon>
					</div>
					<div class="slds-col">
						<lightning-layout-item padding="around-small">
							<strong>{CURRUNET_MONTH_NAME} {currentYear}</strong>
						</lightning-layout-item>
					</div>
					<div class="slds-col">
						<lightning-button-icon icon-name="utility:chevronright"
							alternative-text="Next"
							title="Next"
							onclick={handleClickNext}>
						</lightning-button-icon>
					</div>
				</div>
			</div>
			<div class="slds-col">
				<div class="slds-grid slds-wrap ">

					<div class="slds-col slds-size_7-of-8">
						<!-- Week Days -->
						<div class="slds-grid slds-text-align_center each-month-grid">
							<template for:each={WEEK_DAYS_LIST}
								for:item="day">
								<div class="slds-col slds-box slds-m-around_small weeks"
									key={day}>
									<div class="slds-tile"> {day} </div>
								</div>
							</template>
						</div>
						<!-- Dates Grid -->
						<div class="each-month-grid slds-grid ">
							<template for:each={dispMonthDates}
								for:item="date">
								<div class="slds-col slds-box slds-m-around_small"
									key={date}
									id={date.date}
									style="height: 180px;"
									onclick={onClickOfDate}>
									<div class="slds-tile">
										{date.day}
										<br />
										<template if:true={date.Daily_Log_Hr}>
											<div class="slds-text-color_success">
												<h2>{date.Daily_Log_Hr}:{date.Daily_Log_Min}</h2>
											</div>
										</template>
									</div>
								</div>
							</template>
							<!-- modal start -->
							<template if:true={showModal}>
								<section class="slds-modal slds-fade-in-open">
									<div class="slds-modal__container">
										<header class="slds-modal__header">
											<button
												class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
												title="Close"
												onclick={closeModalAction}>
												<lightning-icon icon-name="utility:close"
													alternative-text="close"
													variant="inverse"
													size="small"></lightning-icon>
											</button>
											<h2 class="slds-text-heading_medium slds-hyphenate">Daily Log Record Detail
											</h2>
										</header>

										<div class="slds-modal__content slds-p-around_medium">
											<c-extended-data-table key-field="Id"
												data={allData}
												columns={columns}
												hide-checkbox-column
												draft-values={draftValues}
												onsave={handleSave}
												oncellchange={handleCellChange}
												onpicklistchanged={picklistChanged}>
											</c-extended-data-table>
										</div>
										<footer class="slds-modal__footer">
											<lightning-button variant="brand"
												label="Close"
												title="Close"
												onclick={closeModalAction}></lightning-button>
										</footer>
									</div>
								</section>

							</template>
							<!-- modal end -->
						</div>
					</div>
					<div class="slds-col slds-size_1-of-8 slds-grid_vertical">
						<div class="slds-grid slds-text-align_center">
							<div class="slds-col slds-box slds-m-around_small weeks">
								<div class="slds-tile"> Total </div>
							</div>
						</div>
						<div class="each-month-total slds-grid ">
							<template for:each={totalHours}
								for:item="con">
								<div key={con}
									class="slds-col slds-box slds-m-around_small"
									style="height: 180px;">
									<div class="slds-tile">
										Total Hr : {con}
									</div>
								</div>
							</template>
						</div>
					</div>
				</div>
			</div>
		</div>
	</lightning-card>
</template>
